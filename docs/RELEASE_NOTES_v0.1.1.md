# Paw v0.1.1 å‘å¸ƒè¯´æ˜

## ğŸ‰ é‡å¤§æ›´æ–°ï¼šå®Œæ•´æ³›å‹ç³»ç»Ÿ

Paw v0.1.1 å®ç°äº†å®Œæ•´çš„æ³›å‹ç³»ç»Ÿï¼ŒåŒ…æ‹¬æ³›å‹å‡½æ•°å’Œæ³›å‹ç»“æ„ä½“ï¼Œä½¿ Paw æˆä¸ºå°‘æ•°å‡ ä¸ªåŒæ—¶æ”¯æŒè¿™ä¸¤å¤§ç‰¹æ€§çš„ç³»ç»Ÿç¼–ç¨‹è¯­è¨€ä¹‹ä¸€ã€‚

## âœ¨ æ–°åŠŸèƒ½

### 1. æ³›å‹å‡½æ•° (Generic Functions)

```paw
fn identity<T>(x: T) -> T {
    return x;
}

fn pair<A, B>(first: A, second: B) -> i32 {
    println("Pair created");
    return 0;
}

fn main() -> i32 {
    let a = identity(42);      // è‡ªåŠ¨æ¨å¯¼ä¸º identity_i32
    let b = identity(3.14);    // è‡ªåŠ¨æ¨å¯¼ä¸º identity_f64
    let c = pair(42, 3.14);    // è‡ªåŠ¨æ¨å¯¼ä¸º pair_i32_f64
    return a;
}
```

**ç‰¹æ€§ï¼š**
- âœ… å•/å¤šç±»å‹å‚æ•°æ”¯æŒ
- âœ… è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼ˆä»å®å‚æ¨å¯¼ç±»å‹ï¼‰
- âœ… å•æ€åŒ–ä»£ç ç”Ÿæˆ
- âœ… åç§°ä¿®é¥°ï¼ˆ`identity<i32>` â†’ `identity_i32`ï¼‰
- âœ… å»é‡ä¼˜åŒ–
- âœ… é›¶è¿è¡Œæ—¶å¼€é”€

### 2. æ³›å‹ç»“æ„ä½“ (Generic Structs)

```paw
type Box<T> = struct {
    value: T,
}

type Pair<A, B> = struct {
    first: A,
    second: B,
}

fn main() -> i32 {
    // å•ç±»å‹å‚æ•°
    let box1 = Box { value: 42 };     // Box_i32
    let box2 = Box { value: 3.14 };   // Box_f64
    let val1 = box1.value;
    
    // å¤šç±»å‹å‚æ•°
    let pair = Pair { first: 100, second: 2.71 };  // Pair_i32_f64
    let a = pair.first;
    let b = pair.second;
    
    return val1;
}
```

**ç‰¹æ€§ï¼š**
- âœ… å•/å¤šç±»å‹å‚æ•°æ”¯æŒ
- âœ… è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼ˆä»å­—æ®µå€¼æ¨å¯¼ç±»å‹ï¼‰
- âœ… å•æ€åŒ–ç»“æ„ä½“ç”Ÿæˆ
- âœ… å­—æ®µè®¿é—®
- âœ… å¤šå®ä¾‹æ”¯æŒï¼ˆåŒä¸€æ³›å‹ç»“æ„ä½“çš„ä¸åŒç±»å‹å®ä¾‹ï¼‰
- âœ… é›¶è¿è¡Œæ—¶å¼€é”€

### 3. ç±»å‹æ¨å¯¼å¼•æ“

ç¼–è¯‘å™¨è‡ªåŠ¨ä»è¡¨è¾¾å¼æ¨å¯¼ç±»å‹ï¼š
- `42` â†’ `i32`
- `3.14` â†’ `f64`
- `"hello"` â†’ `string`
- `true` â†’ `bool`
- `'c'` â†’ `char`

## ğŸ”§ æŠ€æœ¯å®ç°

### ç¼–è¯‘å™¨æ¶æ„
```
Lexer â†’ Parser â†’ TypeChecker â†’ GenericEngine â†’ CodeGen â†’ C â†’ TinyCC/GCC â†’ Executable
                                     â†“
                            Monomorphization
                            Type Inference
                            Name Mangling
```

### æ ¸å¿ƒæ¨¡å—
1. **`src/generics.zig`** - æ³›å‹å¼•æ“
   - ç±»å‹æ¨å¯¼
   - å•æ€åŒ–
   - åç§°ä¿®é¥°
   
2. **`src/codegen.zig`** - ä»£ç ç”Ÿæˆ
   - æ³›å‹å‡½æ•°å•æ€åŒ–
   - æ³›å‹ç»“æ„ä½“å•æ€åŒ–
   - ç±»å‹å‚æ•°æ›¿æ¢

3. **`src/typechecker.zig`** - ç±»å‹æ£€æŸ¥
   - æ³›å‹ç±»å‹å‚æ•°ä½œç”¨åŸŸ
   - ç±»å‹å…¼å®¹æ€§æ£€æŸ¥

## ğŸ“Š æ€§èƒ½

- **ç¼–è¯‘é€Ÿåº¦ï¼š** æ¯«ç§’çº§ï¼ˆå°å‹é¡¹ç›®ï¼‰
- **è¿è¡Œæ—¶å¼€é”€ï¼š** é›¶ï¼ˆå®Œå…¨å•æ€åŒ–ï¼‰
- **ä»£ç å¤§å°ï¼š** ä¸æ‰‹å†™ C ä»£ç ç›¸åŒ

## ğŸ§ª æµ‹è¯•

### æµ‹è¯•æ–‡ä»¶
- `tests/test_generic_function.paw` - æ³›å‹å‡½æ•°æµ‹è¯•
- `tests/test_box_simple.paw` - å•ç±»å‹å‚æ•°ç»“æ„ä½“
- `tests/test_box_access.paw` - å­—æ®µè®¿é—®
- `tests/test_pair.paw` - å¤šç±»å‹å‚æ•°ç»“æ„ä½“
- `tests/test_generic_struct_complete.paw` - å®Œæ•´æµ‹è¯•

### æµ‹è¯•ç»“æœ
```
âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡
âœ… ç”Ÿæˆçš„ C ä»£ç æ­£ç¡®
âœ… ç¼–è¯‘æˆåŠŸ
âœ… è¿è¡Œæ­£ç¡®
```

## ğŸ“ é™åˆ¶å’Œå·²çŸ¥é—®é¢˜

### å½“å‰ä¸æ”¯æŒçš„åŠŸèƒ½
1. **æ³›å‹æ–¹æ³•** - å°†åœ¨ v0.2.1 å®ç°
   ```paw
   fn Box<T>::new(val: T) -> Box<T> { ... }  // æš‚ä¸æ”¯æŒ
   ```

2. **æ³›å‹çº¦æŸ** - å°†åœ¨ v0.3.0 å®ç°
   ```paw
   fn print<T: Display>(val: T) { ... }  // æš‚ä¸æ”¯æŒ
   ```

3. **é«˜é˜¶æ³›å‹** - å°†åœ¨ v0.3.0+ å®ç°
   ```paw
   type Container<T<U>> = ...  // æš‚ä¸æ”¯æŒ
   ```

### å˜é€šæ–¹æ¡ˆ
- æ³›å‹æ–¹æ³•ï¼šä½¿ç”¨æ™®é€šå‡½æ•° + ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç»“æ„ä½“
- æ³›å‹çº¦æŸï¼šå½“å‰æ— çº¦æŸï¼Œæ¥å—æ‰€æœ‰ç±»å‹

## ğŸ”„ ä» v0.1.0 å‡çº§

### æ–°å¢è¯­æ³•
```paw
// æ³›å‹å‡½æ•°
fn func<T>(x: T) -> T { ... }

// æ³›å‹ç»“æ„ä½“
type Box<T> = struct { value: T }
```

### å‘åå…¼å®¹
- âœ… æ‰€æœ‰ v0.1.0 ä»£ç ç»§ç»­æœ‰æ•ˆ
- âœ… æ— ç ´åæ€§æ›´æ”¹
- âœ… å¯é€‰ä½¿ç”¨æ³›å‹

## ğŸš€ å¼€å§‹ä½¿ç”¨

### å®‰è£…
```bash
git clone https://github.com/yourusername/PawLang
cd PawLang
zig build
```

### å¿«é€Ÿå¼€å§‹
```paw
// hello_generic.paw
fn greet<T>(val: T) -> i32 {
    println("Hello, Paw Generics!");
    return 0;
}

fn main() -> i32 {
    return greet(42);
}
```

ç¼–è¯‘è¿è¡Œï¼š
```bash
./zig-out/bin/pawc hello_generic.paw --run
```

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œæµ‹è¯•è€…ï¼

## ğŸ“… å‘å¸ƒæ—¥æœŸ

2025å¹´10æœˆ9æ—¥

## ğŸ“„ è®¸å¯è¯

MIT License

---

**Paw - ç®€å•ã€å®‰å…¨ã€é«˜æ€§èƒ½çš„ç³»ç»Ÿç¼–ç¨‹è¯­è¨€ ğŸ¾**
