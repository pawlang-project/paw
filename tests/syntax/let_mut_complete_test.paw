// ðŸ†• v0.1.6: å®Œæ•´çš„ let mut æµ‹è¯•å¥—ä»¶
// æµ‹è¯• let mut è¯­æ³•çš„æ ¸å¿ƒåœºæ™¯

// æµ‹è¯• 1: åŸºæœ¬å¯å˜å˜é‡
fn test_basic_mut() -> i32 {
    let mut x = 10;
    x = 20;
    x = 30;
    return x;  // 30
}

// æµ‹è¯• 2: å¤åˆèµ‹å€¼
fn test_compound_assign() -> i32 {
    let mut counter = 0;
    counter += 10;
    counter += 20;
    return counter;  // 30
}

// æµ‹è¯• 3: å¤šä¸ªå¯å˜å˜é‡
fn test_multiple_mut() -> i32 {
    let mut a = 1;
    let mut b = 2;
    
    a = a + 10;  // 11
    b = b * 5;   // 10
    
    return a + b;  // 21
}

// æµ‹è¯• 4: æ··åˆå¯å˜å’Œä¸å¯å˜
fn test_mixed() -> i32 {
    let immut = 10;
    let mut mut_var = 20;
    
    mut_var = mut_var + immut;
    
    return mut_var;  // 30
}

// æµ‹è¯• 5: å¾ªçŽ¯ä¸­ä¿®æ”¹
fn test_loop() -> i32 {
    let mut sum = 0;
    
    loop i in 1..6 {
        sum = sum + i;
    }
    
    return sum;  // 15
}

// æµ‹è¯• 6: ä¸å¯å˜å˜é‡ï¼ˆå¯¹æ¯”ï¼‰
fn test_immutable() -> i32 {
    let x = 42;
    let y = 58;
    return x + y;  // 100
}

// ä¸»æµ‹è¯•
fn main() -> i32 {
    let r1 = test_basic_mut();        // 30
    let r2 = test_compound_assign();  // 30
    let r3 = test_multiple_mut();     // 21
    let r4 = test_mixed();            // 30
    let r5 = test_loop();             // 15
    let r6 = test_immutable();        // 100
    
    let total = r1 + r2 + r3 + r4 + r5 + r6;
    
    return total;  // 30+30+21+30+15+100 = 226
}
