// JSON 简化测试
// v0.2.0 - 测试 JSON Lexer

// 导入字符串工具
// import string.{length, char_at};

fn test_json_lexer() -> i32 {
    let json: string = "{\"name\":\"Alice\"}";
    
    // 测试字符串长度计算
    let mut len: i32 = 0;
    let mut i: i32 = 0;
    
    loop i in 0..100 {
        if json[i] as i32 == 0 {
            break;
        }
        len += 1;
    }
    
    // 应该返回 17
    return len;
}

fn test_string_ops() -> i32 {
    let s: string = "test";
    
    // 检查第一个字符
    let first: char = s[0];
    let code: i32 = first as i32;
    
    // 't' = 116
    return code;
}

fn main() -> i32 {
    let r1: i32 = test_json_lexer();
    let r2: i32 = test_string_ops();
    
    // 预期: 17 + 116 = 133
    return r1 + r2;
}

